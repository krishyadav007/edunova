<%= mathjax_tag %>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
              








<div class="row panel no-gutter panel eq-height">

<div class="panel-default">
<div class="panel-body">


<div class="row" style="padding-left:15px;padding-right:15px;">
<div class="row">
  <div class="col-md-4">
  <div class="btn-group">
 
 <%= link_to :back , class: "btn btn-default btn-sm" do %>
 <span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span> Go Back                <% end %>


<%= link_to note_game_view_path(@note) , remote: :true , class: "btn btn-default btn-sm" do %>
 <span class="glyphicon glyphicon-play-circle" aria-hidden="true"></span> Game  <% end %>
<%= link_to note_html_view_path(@note) , remote: :true , class: "btn btn-default btn-sm" do %>
 <span class="glyphicon glyphicon glyphicon-file" aria-hidden="true"></span> View Note  <% end %>

<%= link_to profile_path(@note.user) , class: "btn btn-default btn-sm" do %>
 <span class="glyphicon glyphicon-user" aria-hidden="true"> </span> Creator Profile         <% end %> 
</div>

  </div>
  <div class="col-md-2 col-md-offset-2">


<div class="btn-group">
    <%= link_to  note_comment_view_path(@note)  ,:class => 'btn btn-primary btn-sm' , :remote => true do %> 
     <span class="glyphicon glyphicon-comment
" aria-hidden="true"></span> conversation 
 <span class="badge" id="comment_count"><%= @note.comments.count %>
</span>
    <% end %>



  </div>
</div>
   <div class="col-md-4">
<div class="btn-group pull-right">
  <% if current_user == @note.user %>
    <%= link_to  edit_note_path(@note)  ,:class => 'btn btn-default btn-sm' do %> 
<span class="glyphicon glyphicon-pencil"> </span> Edit 
<% end %>
  <% end %>
  <% if @note.description.to_s != 'insight' %>

     <%= link_to  note_display_quiz_path(@note)  ,:class => 'btn btn-default btn-sm' , :remote => true  do %>
<span class="glyphicon glyphicon-ok"></span> Quiz It! 
      <% end %> 
<% end %>

  
</div>

<% if current_user %>
                  <div class="btn-group pull-right" id="voteapp">

                <% if current_user.voted_up_on?(@note) %> 


                <%= link_to unlike_note_path(@note) , method: :put , class: "btn btn-default btn-sm" , :id => 'unlike_note_path' , remote: true do %>
                <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>

                
                Unvote <%= @note.get_upvotes.size %>


                <% end %>

                <% else %>

<%= link_to like_note_path(@note) , method: :put , class: "btn btn-default btn-sm" , :id => 'like_note_path' , remote: true do %>
                <span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span>

                
                Upvote <%= @note.get_upvotes.size %>
                <% end %>

                <% end %>


               
  
                </div>
                    <% end %>

                  </div>


   </div>

</div>



 


 


<hr class="style" />
       











                


                <div class="media" id="loadsnoteinfo">
                    <a class="pull-left" href="#">
    <%= attachment_image_tag(@note.user, :image, :fill, 130, 130 ,fallback: "deafult-pic-130.png") %>

                    </a>
                    
                    <div class="media-body">
                        <h2 class="media-heading">  <%= @note.name %>  <small>by 
                          <%= @note.user.name %> (@<%= @note.user.username %>)</small>


                        </h2>
<b>labels : </b>
    <% intress = @note.prereq.to_s.split(',') %>
 <% for i in 0..(intress.count-1) %>     
    #<%= @note.prereq.to_s.split(',')[i].strip %>
  
    <% end %> 
<br/>                        
                       
    <%= @note.note_from_author %>
                    </div>


                </div>





<div id="mainconnote">
     <% if @note.description.to_s != 'insight' %>

  <div id="tohihe">

<div id='loading'>
     <div class="progress">
  <div class="progress-bar progress-bar-striped active" role="progressbar"
  aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:20%">
    loading...
  </div>
</div>
    </div>

            <center><canvas id='myGame' width="1100" height="600"></canvas></center>
            

</div>
<% else %>
<%= render 'html_view'  %>
<% end %>
</div>

  <div id="comments" class="col-lg-8" >
</div>
</div>
</div>
</div>





